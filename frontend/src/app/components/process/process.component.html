<div class="maincontainer" *ngIf="(process !=null) else loading">

  <form [formGroup]="newDocument" *ngIf="(process !=null) else loading">
    <mat-vertical-stepper [linear]="isLinear" #stepper>

      <mat-step [stepControl]="newDocument.get('name')">
        <ng-template matStepLabel>Nombre</ng-template>
        <mat-form-field data-toggle="tooltip" data-placement="top" title="Nombre del procedimiento a crear">
          <input matInput placeholder="Nombre" formControlName="name">
        </mat-form-field>
        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button matStepperNext>Next</button>
        </div>
      </mat-step>

      <mat-step [stepControl]="newDocument.get('prefix')">
        <ng-template matStepLabel>Prefijo</ng-template>
        <mat-form-field data-toggle="tooltip" data-placement="top" title="Prefijo del procedimiento a crear">
          <input matInput placeholder="Prefijo" formControlName="prefix">
        </mat-form-field>
        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button matStepperNext>Next</button>
        </div>
      </mat-step>

      <mat-step [stepControl]="newDocument.get('description')">
        <ng-template matStepLabel>Descripción</ng-template>
        <mat-form-field data-toggle="tooltip" data-placement="top" title="Descripción del procedimiento a crear">
          <textarea matInput placeholder="Descripción" formControlName="description"></textarea>
        </mat-form-field>
        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button matStepperNext>Next</button>
        </div>
      </mat-step>


      <mat-step [stepControl]="newDocument.get('type')">
          <ng-template matStepLabel>Tipo</ng-template>
          <mat-form-field data-toggle="tooltip" data-placement="top" title="Tipo del proceso a crear">
              <mat-select formControlName="type" >
                <select matNativeControl required>
                  <option value="padre1">Macro Proceso</option>
                  <option value="padre2">Proceso</option>
                  <option value="padre3">Subproceso</option>
                  <option value="padre4">Proceso Hijo</option>
                </select>
                </mat-select>
          </mat-form-field>
          <div>
            <button mat-button matStepperPrevious>Back</button>
            <button mat-button matStepperNext>Next</button>
          </div>
        </mat-step>
            
      <mat-step>
        <ng-template matStepLabel>Registro</ng-template>
        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button (click)="addDocument()" >Register</button>
          <button mat-button (click)="stepper.reset()">Reset</button>
        </div>
      </mat-step>

    </mat-vertical-stepper>
  </form>
</div>

<ng-template #loading>
    <div class="loaderContainer">
      <div class="loader"></div>
    </div>
  </ng-template>