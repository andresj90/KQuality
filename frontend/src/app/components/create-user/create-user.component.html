<div *ngIf="(companyroles != null && systemroles !=null && areas !=null) else loading">
  <div class="maincontainer">

    <div class="contentcontainer">

      <div class="leftcolumn">
        <mat-vertical-stepper [linear]="isLinear" #stepper *ngIf="(companyroles != null && systemroles !=null
        && areas !=null) else loading">
          <mat-step [stepControl]="name">
            <form [formGroup]="name">
              <ng-template matStepLabel>Nombre</ng-template>
              <mat-form-field>
                <input matInput placeholder="Nombre" formControlName="name" required>
              </mat-form-field>
              <div>
                <button mat-button matStepperNext>Siguiente</button>
              </div>
            </form>
          </mat-step>

          <mat-step [stepControl]="lastname">
            <form [formGroup]="lastname">
              <ng-template matStepLabel>Apellido</ng-template>
              <mat-form-field>
                <input matInput placeholder="Apellido" formControlName="lastname" required>
              </mat-form-field>
              <div>
                <button mat-button matStepperPrevious>Atras</button>
                <button mat-button matStepperNext>Siguiente</button>
              </div>
            </form>
          </mat-step>

          <mat-step [stepControl]="gender">
            <form [formGroup]="gender">
              <ng-template matStepLabel>Sexo</ng-template>
              <mat-radio-group aria-label="Select an option" formControlName="gender">
                <mat-radio-button value="M">Masculino</mat-radio-button>
                <mat-radio-button value="F">Femenino</mat-radio-button>
              </mat-radio-group>
              <div>
                <button mat-button matStepperPrevious>Atras</button>
                <button mat-button matStepperNext>Siguiente</button>
              </div>
            </form>
          </mat-step>

          <mat-step [stepControl]="email">
            <form [formGroup]="email">
              <ng-template matStepLabel>Email</ng-template>
              <mat-form-field class="example-full-width">
                  <input matInput placeholder="email" formControlName="email" required>
                </mat-form-field>
              <div>
                <button mat-button matStepperPrevious>Atras</button>
                <button mat-button matStepperNext>Siguiente</button>
              </div>
            </form>
          </mat-step>


          <mat-step [stepControl]="username">
            <form [formGroup]="username">
              <ng-template matStepLabel>Usuario</ng-template>
              <mat-form-field>
                <input matInput placeholder="Nombre Usuario" formControlName="username" required>
              </mat-form-field>
              <div>
                <button mat-button matStepperPrevious>Atras</button>
                <button mat-button matStepperNext>Siguiente</button>
              </div>
            </form>
          </mat-step>

          <mat-step [stepControl]="password">
            <form [formGroup]="password">
              <ng-template matStepLabel>Contraseña</ng-template>
              <mat-form-field>
                <input matInput placeholder="Contraseña" formControlName="password" required>
              </mat-form-field>
              <div>
                <button mat-button matStepperPrevious>Atras</button>
                <button mat-button matStepperNext>Siguiente</button>
              </div>
            </form>
          </mat-step>


          <mat-step [stepControl]="companyAreaID">
            <form [formGroup]="companyAreaID">
              <mat-form-field>
                <ng-template matStepLabel>Área Compañia</ng-template>
                <mat-label>Area Compañia</mat-label>
                <mat-select formControlName="companyAreaID">
                  <mat-option>None</mat-option>
                  <mat-option *ngFor="let area of areas.elements" [value]="area.id">{{area.name}}</mat-option>
                </mat-select>
              </mat-form-field>
              <div>
                <button mat-button matStepperPrevious>Atras</button>
                <button mat-button matStepperNext>Siguiente</button>
              </div>
            </form>
          </mat-step>

          <mat-step [stepControl]="companyRoleID">
            <form [formGroup]="companyRoleID">
              <mat-form-field>
                <ng-template matStepLabel>Cargo Área</ng-template>
                <mat-label>Cargo</mat-label>
                <mat-select formControlName="companyRoleID">
                  <mat-option>None</mat-option>
                  <mat-option *ngFor="let role of companyroles.elements" [value]="role.id">{{role.name}}</mat-option>
                </mat-select>
              </mat-form-field>
              <div>
                <button mat-button matStepperPrevious>Atras</button>
                <button mat-button matStepperNext>Siguiente</button>
              </div>
            </form>
          </mat-step>

          <mat-step [stepControl]="systemRoleID">
              <form [formGroup]="systemRoleID">
                <mat-form-field>
                  <ng-template matStepLabel>Rol Sistema</ng-template>
                  <mat-label>Rol</mat-label>
                  <mat-select formControlName="systemRoleID">
                    <mat-option>None</mat-option>
                    <mat-option *ngFor="let role of systemroles.elements" [value]="role.id">{{role.name}}</mat-option>
                  </mat-select>
                </mat-form-field>
                <div>
                  <button mat-button matStepperPrevious>Atras</button>
                  <button mat-button matStepperNext>Siguiente</button>
                </div>
              </form>
            </mat-step>

            <mat-step>
                <ng-template matStepLabel>Registrar</ng-template>
                <div>
                  <button mat-button (click)="addUser()">Crear</button>
                  <button mat-button matStepperPrevious>Atras</button>
                  <button mat-button (click)="stepper.reset()">Reset</button>
                </div>
              </mat-step>

        </mat-vertical-stepper>
      </div>
      <div class="rightcolumn">


      </div>
    </div>

  </div>
</div>


<ng-template #loading>
    <mat-progress-bar mode="query"></mat-progress-bar>

</ng-template>
